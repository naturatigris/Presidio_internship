{
  "version": 3,
  "sources": ["angular:jit:template:src/app/upload-modal/upload-modal.html", "angular:jit:style:src/app/upload-modal/upload-modal.css", "src/app/upload-modal/upload-modal.ts"],
  "sourcesContent": ["<h2 mat-dialog-title>{{data.action == 'Add' ? 'Upload File' : \"Edit File\"}}</h2>\n<mat-dialog-content>\n  <form [formGroup]=\"formGroup\" class=\"content\">\n    <!-- <mat-form-field> -->\n\t@if(data.action == 'Add'){\n\t\t<label>Upload Document</label><br>\n\t\t<input type=\"file\" (change)=\"onFileChange($event)\" formControlName=\"file\">\n\t\t@if(fc.file.invalid && fc.file.touched){\n\t\t\t<mat-error>File is required</mat-error>\n\t\t}\n\t}\n    <!-- </mat-form-field> -->\n\n     <mat-form-field class=\"input\">\n        <mat-label>Description</mat-label>\n            <textarea matInput \n                type=\"text\" \n                formControlName=\"description\"\n            ></textarea>\n    </mat-form-field>\n\n\t<mat-form-field class=\"input\">\n        <mat-label>Team</mat-label>\n            <mat-select \n                formControlName=\"teamId\"\n            >\n            @for (t of data.teamOptions; track $index) {\n                <mat-option [value]=\"t.value\">{{t.view}}</mat-option>\n            }\n            </mat-select>\n        \t@if (fc.teamId.hasError('required')) {\n                <mat-error>Team is required</mat-error>\n            }\n    </mat-form-field>\n\t<mat-form-field class=\"input\">\n        <mat-label>Visiblity</mat-label>\n            <mat-select \n                formControlName=\"visibility\"\n            >\n            @for (t of visibilityOptions; track $index) {\n                <mat-option [value]=\"t\">{{t}}</mat-option>\n            }\n            </mat-select>\n        \t@if (fc.teamId.hasError('required')) {\n                <mat-error>Team is required</mat-error>\n            }\n    </mat-form-field>\n\n  </form>\n</mat-dialog-content>\n<mat-dialog-actions>\n  <button matButton (click)=\"onCancelClick()\">Cancel</button>\n  <button \n    matButton \n    (click)=\"onUploadClick()\" \n    [disabled]=\"formGroup.invalid\"\n\t>\n    <!-- cdkFocusInitial -->\n      {{data.action == 'Add' ? 'Upload' : \"Submit\"}}\n  </button>\n</mat-dialog-actions>\n", "/* src/app/upload-modal/upload-modal.css */\n.content {\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\ninput {\n  margin: 20px;\n}\ninput[type=file]::file-selector-button {\n  border-radius: 16px;\n  padding: 0 16px;\n  height: 40px;\n  cursor: pointer;\n  background-color: #dbe3f8;\n  border: 1px solid rgba(0, 0, 0, 0.16);\n  box-shadow: 0px 1px 0px rgba(0, 0, 0, 0.05);\n  transition: background-color 200ms;\n}\ninput[type=file]::file-selector-button:hover {\n  background-color: rgb(181, 202, 247);\n}\ninput[type=file]::file-selector-button:active {\n  background-color: #3c67d2;\n}\nh2 {\n  text-align: center;\n}\n.input {\n  width: 300px;\n}\n/*# sourceMappingURL=upload-modal.css.map */\n", "import { Component, inject } from '@angular/core';\nimport { FormControl, FormGroup, FormGroupDirective, FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MAT_DIALOG_DATA, MatDialogModule, MatDialogRef } from '@angular/material/dialog';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS, MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { DocumentService } from '../services/document.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { MatSelectModule } from '@angular/material/select';\nimport { TeamModel } from '../models/team.model';\nimport { TeamService } from '../services/team.service';\nimport { DocumentDetailsModel } from '../models/document.details.model';\n\n@Component({\n  selector: 'app-upload-modal',\n  imports: [MatDialogModule, MatFormFieldModule,MatInputModule, MatButtonModule,MatSelectModule, FormsModule, ReactiveFormsModule],\n  templateUrl: './upload-modal.html',\n  styleUrl: './upload-modal.css',\n  providers: [{provide: MAT_FORM_FIELD_DEFAULT_OPTIONS, useValue: {appearance: 'outline'}}]\n})\nexport class UploadModal {\n\tdialogRef = inject(MatDialogRef<UploadModal>);\n\tdata = inject(MAT_DIALOG_DATA);\n\tdocumentService = inject(DocumentService);\n\tvisibilityOptions = ['Public','Team','Private'];\n\tuploadFile : File | null =null;\n\tformGroup: FormGroup;\n\tsnackBar = new MatSnackBar();\n\n\tconstructor(){\n\t\tif(this.data.action == 'Add'){\n\t\t\tthis.formGroup= new FormGroup({\n\t\t\t\tfile : new FormControl(null, Validators.required),\n\t\t\t\tdescription : new FormControl(null),\n\t\t\t\tteamId : new FormControl(this.data.teamId, Validators.required),\n\t\t\t\tvisibility : new FormControl(\"Public\", Validators.required)\n\t\t\t})\n\t\t} else{\n\t\t\tthis.formGroup = new FormGroup({\n\t\t\t\tdescription : new FormControl(this.data.editDoc.description),\n\t\t\t\tteamId : new FormControl(this.data.editDoc.teamId, Validators.required),\n\t\t\t\tvisibility : new FormControl(this.data.editDoc.visibility, Validators.required)\n\t\t\t})\n\t\t}\n\t}\n\n\tonFileChange(event : Event){\n\t\tconst input = event.target as HTMLInputElement;\n\t\tif(input.files && input.files.length > 0){\n\t\t\tthis.uploadFile = input.files[0];\n\t\t\tconsole.log(\"Is file:\", this.uploadFile instanceof File);\n\t\t}\n\t}\n\tonUploadClick(){\n\t\tif(this.data.action== \"Add\"){\n\t\t\tif(this.formGroup.valid && this.uploadFile != null){\n\t\t\t\tlet fileData = new DocumentDetailsModel(\n\t\t\t\t\tthis.formGroup.get('description')?.value,\n\t\t\t\t\tthis.formGroup.get('teamId')?.value,\n\t\t\t\t\tthis.formGroup.get('visibility')?.value\n\t\t\t\t)\n\t\t\t\tthis.data.onAccept(fileData,this.uploadFile);\n\t\t\t\tthis.dialogRef.close();\n\t\t\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.formGroup.markAsTouched();\n\t\t\t\tthis.snackBar.open(\"File is required!\", undefined, {duration: 3000});\n\t\t\t}\n\t\t}\n\t\tif(this.data.action == \"Edit\"){\n\t\t\tif(this.formGroup.valid) {\n\t\t\t\tlet fileData = new DocumentDetailsModel(\n\t\t\t\t\tthis.formGroup.get('description')?.value,\n\t\t\t\t\tthis.formGroup.get('teamId')?.value,\n\t\t\t\t\tthis.formGroup.get('visibility')?.value\n\t\t\t\t)\n\t\t\t\tthis.data.onAccept(fileData);\n\t\t\t\tthis.dialogRef.close();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.formGroup.markAsTouched();\n\t\t\t\tthis.snackBar.open(\"File is required!\", undefined, {duration: 3000});\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t}\n\tonCancelClick(){\n\t\tthis.dialogRef.close();\n\t}\n\tget fc() : any {\n\t\treturn this.formGroup.controls;\n\t}\n}\n"],
  "mappings": "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",
  "names": ["upload_modal_default", "init_upload_modal", "UploadModal"]
}
