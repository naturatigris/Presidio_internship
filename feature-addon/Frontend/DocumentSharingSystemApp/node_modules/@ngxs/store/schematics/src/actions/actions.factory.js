"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.actions = actions;
const schematics_1 = require("@angular-devkit/schematics");
const generate_utils_1 = require("../utils/generate-utils");
const properties_1 = require("../utils/common/properties");
const normalize_options_1 = require("../utils/normalize-options");
const path_1 = require("path");
function actions(options) {
    return (host) => {
        if ((0, properties_1.isEmpty)(options.name)) {
            throw new schematics_1.SchematicsException('Invalid options, "name" is required.');
        }
        const normalizedOptions = (0, normalize_options_1.normalizeBaseOptions)(host, options);
        const path = options.flat
            ? normalizedOptions.path
            : (0, path_1.join)(normalizedOptions.path, normalizedOptions.name);
        return (0, generate_utils_1.generateFiles)((0, schematics_1.url)('./files'), path, {
            name: normalizedOptions.name
        });
    };
}
//# sourceMappingURL=actions.factory.js.map