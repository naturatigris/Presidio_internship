"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.starterKit = starterKit;
const schematics_1 = require("@angular-devkit/schematics");
const generate_utils_1 = require("../utils/generate-utils");
const ng_ast_utils_1 = require("@schematics/angular/utility/ng-ast-utils");
const project_1 = require("../utils/project");
const normalize_options_1 = require("../utils/normalize-options");
function starterKit(options) {
    return (host) => {
        let isStandalone = options.standalone;
        if (typeof isStandalone !== 'boolean') {
            const mainFile = (0, project_1.getProjectMainFile)(host, options.project);
            isStandalone = !!mainFile && (0, ng_ast_utils_1.isStandaloneApp)(host, mainFile);
        }
        const normalizedPath = (0, normalize_options_1.normalizePath)(options.path);
        return (0, generate_utils_1.generateFiles)((0, schematics_1.url)('./files'), normalizedPath, Object.assign(Object.assign({}, options), { isStandalone }), options.spec);
    };
}
//# sourceMappingURL=starter-kit.factory.js.map