2025-06-08 12:33:50.175 +05:30 [INF] Now listening on: http://localhost:5147
2025-06-08 12:33:50.240 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 12:33:50.240 +05:30 [INF] Hosting environment: Development
2025-06-08 12:33:50.240 +05:30 [INF] Content root path: /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform
2025-06-08 12:33:58.012 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5147/swagger/index.html - null null
2025-06-08 12:33:58.119 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5147/swagger/index.html - 200 null text/html;charset=utf-8 108.7044ms
2025-06-08 12:33:58.302 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5147/swagger/v1/swagger.json - null null
2025-06-08 12:33:58.455 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5147/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 153.3754ms
2025-06-08 12:34:30.457 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5147/api/v1/login - application/json 60
2025-06-08 12:34:30.466 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-08 12:34:30.468 +05:30 [INF] CORS policy execution successful.
2025-06-08 12:34:30.478 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 12:34:30.504 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BlogPlatform.Models.DTOs.UserLoginResponse]] UserLogin(BlogPlatform.Models.DTOs.UserLoginRequest) on controller BlogPlatform.Controllers.AuthenticationController (bloggingplatform).
2025-06-08 12:34:31.736 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 12:34:32.170 +05:30 [INF] Executing OkObjectResult, writing value of type 'BlogPlatform.Models.DTOs.UserLoginResponse'.
2025-06-08 12:34:32.183 +05:30 [INF] Executed action BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform) in 1675.0073ms
2025-06-08 12:34:32.184 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 12:34:32.187 +05:30 [INF] HTTP POST /api/v1/login responded 200 in 1713.4391 ms
2025-06-08 12:34:32.190 +05:30 [INF] HTTP POST /api/v1/login responded 200 in 1718ms - User: Anonymous
2025-06-08 12:34:32.199 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5147/api/v1/login - 200 null application/json; charset=utf-8 1742.0024ms
2025-06-08 12:35:21.993 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5147/api/v1/posts/filter?UserEmail=sandhya123%40gmail.com - null null
2025-06-08 12:35:21.996 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.v1.PostController.GetFilteredPosts (bloggingplatform)'
2025-06-08 12:35:22.005 +05:30 [INF] Route matched with {action = "GetFilteredPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredPosts(BlogPlatform.Models.DTOs.PostQueryParamsDto) on controller BlogPlatform.Controllers.v1.PostController (bloggingplatform).
2025-06-08 12:35:22.153 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 12:35:22.165 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Content", p."IsDeleted", p."Slug", p."Status", p."Title", p."UserEmail"
FROM "Posts" AS p
2025-06-08 12:35:22.214 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BlogPlatform.Models.Post, bloggingplatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-08 12:35:22.238 +05:30 [INF] Executed action BlogPlatform.Controllers.v1.PostController.GetFilteredPosts (bloggingplatform) in 232.7741ms
2025-06-08 12:35:22.238 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.v1.PostController.GetFilteredPosts (bloggingplatform)'
2025-06-08 12:35:22.239 +05:30 [INF] HTTP GET /api/v1/posts/filter responded 200 in 243.0653 ms
2025-06-08 12:35:22.239 +05:30 [INF] HTTP GET /api/v1/posts/filter responded 200 in 243ms - User: Anonymous
2025-06-08 12:35:22.239 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5147/api/v1/posts/filter?UserEmail=sandhya123%40gmail.com - 200 null application/json; charset=utf-8 245.9951ms
2025-06-08 12:36:42.279 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5147/api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58 - null null
2025-06-08 12:36:42.281 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.v1.PostController.GetPostById (bloggingplatform)'
2025-06-08 12:36:42.289 +05:30 [INF] Route matched with {action = "GetPostById", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPostById(System.Guid) on controller BlogPlatform.Controllers.v1.PostController (bloggingplatform).
2025-06-08 12:36:42.374 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Content", p."IsDeleted", p."Slug", p."Status", p."Title", p."UserEmail"
FROM "Posts" AS p
WHERE p."Id" = @__key_0
LIMIT 2
2025-06-08 12:36:42.375 +05:30 [INF] Executing OkObjectResult, writing value of type 'BlogPlatform.Models.Post'.
2025-06-08 12:36:42.376 +05:30 [INF] Executed action BlogPlatform.Controllers.v1.PostController.GetPostById (bloggingplatform) in 86.0661ms
2025-06-08 12:36:42.376 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.v1.PostController.GetPostById (bloggingplatform)'
2025-06-08 12:36:42.376 +05:30 [INF] HTTP GET /api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58 responded 200 in 95.4301 ms
2025-06-08 12:36:42.376 +05:30 [INF] HTTP GET /api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58 responded 200 in 95ms - User: Anonymous
2025-06-08 12:36:42.376 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5147/api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58 - 200 null application/json; charset=utf-8 96.9213ms
2025-06-08 12:36:57.665 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5147/api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58/comments - null null
2025-06-08 12:36:57.665 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.v1.PostController.GetCommentsByPost (bloggingplatform)'
2025-06-08 12:36:57.670 +05:30 [INF] Route matched with {action = "GetCommentsByPost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCommentsByPost(System.Guid) on controller BlogPlatform.Controllers.v1.PostController (bloggingplatform).
2025-06-08 12:36:57.682 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Content", p."IsDeleted", p."Slug", p."Status", p."Title", p."UserEmail"
FROM "Posts" AS p
WHERE p."Id" = @__key_0
LIMIT 2
2025-06-08 12:36:57.702 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."IsDeleted", c."PostId", c."Status", c."UserEmail"
FROM "Comments" AS c
WHERE NOT (c."IsDeleted")
2025-06-08 12:36:57.704 +05:30 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-06-08 12:36:57.704 +05:30 [INF] Executed action BlogPlatform.Controllers.v1.PostController.GetCommentsByPost (bloggingplatform) in 34.3838ms
2025-06-08 12:36:57.704 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.v1.PostController.GetCommentsByPost (bloggingplatform)'
2025-06-08 12:36:57.705 +05:30 [INF] HTTP GET /api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58/comments responded 404 in 39.2293 ms
2025-06-08 12:36:57.705 +05:30 [INF] HTTP GET /api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58/comments responded 404 in 39ms - User: Anonymous
2025-06-08 12:36:57.705 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5147/api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58/comments - 404 null text/plain; charset=utf-8 40.591ms
2025-06-08 12:38:29.861 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5147/api/v1/comments?performedBy=sandhya123%40gmail.com - application/json 154
2025-06-08 12:38:29.862 +05:30 [INF] CORS policy execution successful.
2025-06-08 12:38:29.866 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-08 12:38:29.868 +05:30 [ERR] HTTP POST /api/v1/comments responded 500 in 6.1616 ms
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-06-08 12:38:29.882 +05:30 [ERR] Unhandled exception for POST /api/v1/comments - User: Anonymous
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform/Program.cs:line 165
2025-06-08 12:38:29.889 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform/Program.cs:line 165
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-08 12:38:29.895 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5147/api/v1/comments?performedBy=sandhya123%40gmail.com - 500 null text/plain; charset=utf-8 34.0786ms
2025-06-08 12:42:56.349 +05:30 [INF] Application is shutting down...
2025-06-08 12:43:04.703 +05:30 [INF] User profile is available. Using '/Users/sandhyaanand/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-08 12:43:04.841 +05:30 [INF] Now listening on: http://localhost:5147
2025-06-08 12:43:04.843 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 12:43:04.843 +05:30 [INF] Hosting environment: Development
2025-06-08 12:43:04.843 +05:30 [INF] Content root path: /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform
2025-06-08 12:43:09.936 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5147/api/v1/comments?performedBy=sandhya123%40gmail.com - application/json 154
2025-06-08 12:43:09.982 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-08 12:43:09.984 +05:30 [INF] CORS policy execution successful.
2025-06-08 12:43:10.087 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.CommentController.AddComment (bloggingplatform)'
2025-06-08 12:43:10.103 +05:30 [INF] Route matched with {action = "AddComment", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddComment(BlogPlatform.Models.DTOs.CommentDto, System.String) on controller BlogPlatform.Controllers.CommentController (bloggingplatform).
2025-06-08 12:43:11.303 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 12:43:11.396 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 12:43:11.559 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Comments" ("Id", "Content", "CreatedAt", "IsDeleted", "PostId", "Status", "UserEmail")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-06-08 12:43:11.597 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CommentAuditLogs" ("Id", "Action", "Changes", "CommentId", "PerformedAt", "PerformedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-08 12:43:11.606 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'BlogPlatform.Models.Comment'.
2025-06-08 12:43:11.663 +05:30 [INF] Executed action BlogPlatform.Controllers.CommentController.AddComment (bloggingplatform) in 1557.1579ms
2025-06-08 12:43:11.668 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.CommentController.AddComment (bloggingplatform)'
2025-06-08 12:43:11.671 +05:30 [INF] HTTP POST /api/v1/comments responded 201 in 1682.9508 ms
2025-06-08 12:43:11.673 +05:30 [INF] HTTP POST /api/v1/comments responded 201 in 1686ms - User: sandhya Anand
2025-06-08 12:43:11.682 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5147/api/v1/comments?performedBy=sandhya123%40gmail.com - 201 null application/json; charset=utf-8 1748.7342ms
2025-06-08 12:43:37.774 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5147/api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58/comments - null null
2025-06-08 12:43:37.782 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.v1.PostController.GetCommentsByPost (bloggingplatform)'
2025-06-08 12:43:37.796 +05:30 [INF] Route matched with {action = "GetCommentsByPost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCommentsByPost(System.Guid) on controller BlogPlatform.Controllers.v1.PostController (bloggingplatform).
2025-06-08 12:43:37.831 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Content", p."IsDeleted", p."Slug", p."Status", p."Title", p."UserEmail"
FROM "Posts" AS p
WHERE p."Id" = @__key_0
LIMIT 2
2025-06-08 12:43:37.870 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."IsDeleted", c."PostId", c."Status", c."UserEmail"
FROM "Comments" AS c
WHERE NOT (c."IsDeleted")
2025-06-08 12:43:37.875 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BlogPlatform.Models.Comment, bloggingplatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-08 12:43:37.878 +05:30 [INF] Executed action BlogPlatform.Controllers.v1.PostController.GetCommentsByPost (bloggingplatform) in 81.3744ms
2025-06-08 12:43:37.879 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.v1.PostController.GetCommentsByPost (bloggingplatform)'
2025-06-08 12:43:37.879 +05:30 [INF] HTTP GET /api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58/comments responded 200 in 101.7938 ms
2025-06-08 12:43:37.879 +05:30 [INF] HTTP GET /api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58/comments responded 200 in 102ms - User: sandhya Anand
2025-06-08 12:43:37.880 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5147/api/v1/posts/19480095-03c6-4631-a8a0-d4d3b32d8a58/comments - 200 null application/json; charset=utf-8 105.4556ms
2025-06-08 12:44:45.252 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331?performedByEmail=sandhya%40123.com - application/json 49
2025-06-08 12:44:45.254 +05:30 [INF] CORS policy execution successful.
2025-06-08 12:44:45.257 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 12:44:45.262 +05:30 [INF] Route matched with {action = "UpdateComment", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateComment(System.Guid, BlogPlatform.Models.DTOs.UpdateCommentDto, System.String) on controller BlogPlatform.Controllers.CommentController (bloggingplatform).
2025-06-08 12:44:45.270 +05:30 [INF] Executing ForbidResult with authentication schemes (["Only admins or the comment author can perform this action."]).
2025-06-08 12:44:45.277 +05:30 [INF] Executed action BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform) in 15.181ms
2025-06-08 12:44:45.277 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 12:44:45.278 +05:30 [ERR] HTTP PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331 responded 500 in 23.5321 ms
System.InvalidOperationException: No authentication handler is registered for the scheme 'Only admins or the comment author can perform this action.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Only admins or the comment author can perform this action.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-06-08 12:44:45.295 +05:30 [ERR] Unhandled exception for PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331 - User: sandhya Anand
System.InvalidOperationException: No authentication handler is registered for the scheme 'Only admins or the comment author can perform this action.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Only admins or the comment author can perform this action.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform/Program.cs:line 180
2025-06-08 12:44:45.300 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Only admins or the comment author can perform this action.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Only admins or the comment author can perform this action.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform/Program.cs:line 180
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-08 12:44:45.306 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331?performedByEmail=sandhya%40123.com - 500 null text/plain; charset=utf-8 54.2623ms
2025-06-08 12:46:57.346 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331?performedByEmail=sandhya123%40gmail.com - application/json 49
2025-06-08 12:46:57.347 +05:30 [INF] CORS policy execution successful.
2025-06-08 12:46:57.350 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 12:46:57.350 +05:30 [INF] Route matched with {action = "UpdateComment", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateComment(System.Guid, BlogPlatform.Models.DTOs.UpdateCommentDto, System.String) on controller BlogPlatform.Controllers.CommentController (bloggingplatform).
2025-06-08 12:46:57.426 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 12:46:57.433 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."IsDeleted", c."PostId", c."Status", c."UserEmail"
FROM "Comments" AS c
WHERE c."Id" = @__key_0
LIMIT 2
2025-06-08 12:46:57.436 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."IsDeleted", c."PostId", c."Status", c."UserEmail"
FROM "Comments" AS c
WHERE c."Id" = @__key_0
LIMIT 2
2025-06-08 12:46:57.451 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Comments" SET "Content" = @p0
WHERE "Id" = @p1;
2025-06-08 12:46:57.455 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CommentAuditLogs" ("Id", "Action", "Changes", "CommentId", "PerformedAt", "PerformedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-08 12:46:57.455 +05:30 [INF] Executing OkObjectResult, writing value of type 'BlogPlatform.Models.Comment'.
2025-06-08 12:46:57.456 +05:30 [INF] Executed action BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform) in 105.2162ms
2025-06-08 12:46:57.456 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 12:46:57.456 +05:30 [INF] HTTP PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331 responded 200 in 108.1128 ms
2025-06-08 12:46:57.456 +05:30 [INF] HTTP PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331 responded 200 in 108ms - User: sandhya Anand
2025-06-08 12:46:57.456 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331?performedByEmail=sandhya123%40gmail.com - 200 null application/json; charset=utf-8 110.1326ms
2025-06-08 12:47:09.642 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332?performedByEmail=sandhya123%40gmail.com - application/json 49
2025-06-08 12:47:09.642 +05:30 [INF] CORS policy execution successful.
2025-06-08 12:47:09.642 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 12:47:09.642 +05:30 [INF] Route matched with {action = "UpdateComment", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateComment(System.Guid, BlogPlatform.Models.DTOs.UpdateCommentDto, System.String) on controller BlogPlatform.Controllers.CommentController (bloggingplatform).
2025-06-08 12:47:09.645 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 12:47:09.646 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."IsDeleted", c."PostId", c."Status", c."UserEmail"
FROM "Comments" AS c
WHERE c."Id" = @__key_0
LIMIT 2
2025-06-08 12:47:09.647 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-06-08 12:47:09.648 +05:30 [INF] Executed action BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform) in 5.2793ms
2025-06-08 12:47:09.648 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 12:47:09.648 +05:30 [ERR] HTTP PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332 responded 500 in 6.2856 ms
2025-06-08 12:47:09.649 +05:30 [INF] HTTP PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332 responded 500 in 6ms - User: sandhya Anand
2025-06-08 12:47:09.649 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332?performedByEmail=sandhya123%40gmail.com - 500 null text/plain; charset=utf-8 7.6362ms
2025-06-08 14:22:05.629 +05:30 [INF] Application is shutting down...
2025-06-08 14:53:40.692 +05:30 [INF] User profile is available. Using '/Users/sandhyaanand/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-08 14:53:40.837 +05:30 [INF] Now listening on: http://localhost:5147
2025-06-08 14:53:40.839 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 14:53:40.839 +05:30 [INF] Hosting environment: Development
2025-06-08 14:53:40.839 +05:30 [INF] Content root path: /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform
2025-06-08 14:53:57.051 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332?performedByEmail=sandhya1234%40gmail.com - application/json 46
2025-06-08 14:53:57.100 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-08 14:53:57.101 +05:30 [INF] CORS policy execution successful.
2025-06-08 14:53:57.180 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 14:53:57.199 +05:30 [INF] Route matched with {action = "UpdateComment", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateComment(System.Guid, BlogPlatform.Models.DTOs.UpdateCommentDto, System.String) on controller BlogPlatform.Controllers.CommentController (bloggingplatform).
2025-06-08 14:53:57.465 +05:30 [INF] Executing ForbidResult with authentication schemes (["Only admins or the comment author can perform this action."]).
2025-06-08 14:53:57.473 +05:30 [INF] Executed action BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform) in 270.17ms
2025-06-08 14:53:57.485 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 14:53:57.487 +05:30 [ERR] HTTP PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332 responded 500 in 382.8626 ms
System.InvalidOperationException: No authentication handler is registered for the scheme 'Only admins or the comment author can perform this action.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Only admins or the comment author can perform this action.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-06-08 14:53:57.501 +05:30 [ERR] Unhandled exception for PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332 - User: sandhya Anand
System.InvalidOperationException: No authentication handler is registered for the scheme 'Only admins or the comment author can perform this action.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Only admins or the comment author can perform this action.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Program.<>c.<<<Main>$>b__0_8>d.MoveNext() in /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform/Program.cs:line 187
2025-06-08 14:53:57.507 +05:30 [ERR] Unhandled exception occurred.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Only admins or the comment author can perform this action.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Only admins or the comment author can perform this action.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Program.<>c.<<<Main>$>b__0_8>d.MoveNext() in /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform/Program.cs:line 187
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BlogPlatform.Middleware.GlobalExceptionMiddleware.Invoke(HttpContext context) in /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform/middleware/globalexceptionmiddleware.cs:line 61
2025-06-08 14:53:57.528 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332?performedByEmail=sandhya1234%40gmail.com - 500 null application/json; charset=utf-8 478.6513ms
2025-06-08 14:54:32.025 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332?performedByEmail=sandhya123%40gmail.com - application/json 46
2025-06-08 14:54:32.027 +05:30 [INF] CORS policy execution successful.
2025-06-08 14:54:32.031 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 14:54:32.032 +05:30 [INF] Route matched with {action = "UpdateComment", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateComment(System.Guid, BlogPlatform.Models.DTOs.UpdateCommentDto, System.String) on controller BlogPlatform.Controllers.CommentController (bloggingplatform).
2025-06-08 14:54:33.261 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 14:54:33.369 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."IsDeleted", c."PostId", c."Status", c."UserEmail"
FROM "Comments" AS c
WHERE c."Id" = @__key_0
LIMIT 2
2025-06-08 14:54:33.378 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-06-08 14:54:33.380 +05:30 [INF] Executed action BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform) in 1347.34ms
2025-06-08 14:54:33.380 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 14:54:33.381 +05:30 [ERR] HTTP PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332 responded 500 in 1354.0587 ms
2025-06-08 14:54:33.382 +05:30 [INF] HTTP PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332 responded 500 in 1354ms - User: sandhya Anand
2025-06-08 14:54:33.389 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a332?performedByEmail=sandhya123%40gmail.com - 500 null text/plain; charset=utf-8 1364.6378ms
2025-06-08 14:54:42.262 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331?performedByEmail=sandhya123%40gmail.com - application/json 46
2025-06-08 14:54:42.263 +05:30 [INF] CORS policy execution successful.
2025-06-08 14:54:42.266 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 14:54:42.266 +05:30 [INF] Route matched with {action = "UpdateComment", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateComment(System.Guid, BlogPlatform.Models.DTOs.UpdateCommentDto, System.String) on controller BlogPlatform.Controllers.CommentController (bloggingplatform).
2025-06-08 14:54:42.308 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 14:54:42.310 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."IsDeleted", c."PostId", c."Status", c."UserEmail"
FROM "Comments" AS c
WHERE c."Id" = @__key_0
LIMIT 2
2025-06-08 14:54:42.353 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Content", c."CreatedAt", c."IsDeleted", c."PostId", c."Status", c."UserEmail"
FROM "Comments" AS c
WHERE c."Id" = @__key_0
LIMIT 2
2025-06-08 14:54:42.442 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Comments" SET "Content" = @p0
WHERE "Id" = @p1;
2025-06-08 14:54:42.496 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CommentAuditLogs" ("Id", "Action", "Changes", "CommentId", "PerformedAt", "PerformedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-08 14:54:42.497 +05:30 [INF] Executing OkObjectResult, writing value of type 'BlogPlatform.Models.Comment'.
2025-06-08 14:54:42.522 +05:30 [INF] Executed action BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform) in 255.8425ms
2025-06-08 14:54:42.522 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.CommentController.UpdateComment (bloggingplatform)'
2025-06-08 14:54:42.522 +05:30 [INF] HTTP PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331 responded 200 in 259.2863 ms
2025-06-08 14:54:42.523 +05:30 [INF] HTTP PUT /api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331 responded 200 in 259ms - User: sandhya Anand
2025-06-08 14:54:42.523 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5147/api/v1/comments/36d584d9-70c9-4276-8ad9-84677f56a331?performedByEmail=sandhya123%40gmail.com - 200 null application/json; charset=utf-8 261.3957ms
2025-06-08 14:55:03.089 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5147/api/v1/posts/filter?UserEmail=sandhya1234%40gmail.com - null null
2025-06-08 14:55:03.091 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.v1.PostController.GetFilteredPosts (bloggingplatform)'
2025-06-08 14:55:03.099 +05:30 [INF] Route matched with {action = "GetFilteredPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredPosts(BlogPlatform.Models.DTOs.PostQueryParamsDto) on controller BlogPlatform.Controllers.v1.PostController (bloggingplatform).
2025-06-08 14:55:03.173 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 14:55:03.175 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-08 14:55:03.177 +05:30 [INF] Executed action BlogPlatform.Controllers.v1.PostController.GetFilteredPosts (bloggingplatform) in 76.8574ms
2025-06-08 14:55:03.177 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.v1.PostController.GetFilteredPosts (bloggingplatform)'
2025-06-08 14:55:03.177 +05:30 [INF] HTTP GET /api/v1/posts/filter responded 400 in 85.9538 ms
2025-06-08 14:55:03.177 +05:30 [INF] HTTP GET /api/v1/posts/filter responded 400 in 86ms - User: sandhya Anand
2025-06-08 14:55:03.177 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5147/api/v1/posts/filter?UserEmail=sandhya1234%40gmail.com - 400 null application/json; charset=utf-8 87.8552ms
2025-06-08 14:55:19.500 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5147/api/v1/Users/getall - null null
2025-06-08 14:55:19.501 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.v1.UsersController.GetAll (bloggingplatform)'
2025-06-08 14:55:19.518 +05:30 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller BlogPlatform.Controllers.v1.UsersController (bloggingplatform).
2025-06-08 14:55:19.546 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-08 14:55:19.548 +05:30 [INF] Executing OkObjectResult, writing value of type 'BlogPlatform.Models.User[]'.
2025-06-08 14:55:19.549 +05:30 [INF] Executed action BlogPlatform.Controllers.v1.UsersController.GetAll (bloggingplatform) in 30.7722ms
2025-06-08 14:55:19.549 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.v1.UsersController.GetAll (bloggingplatform)'
2025-06-08 14:55:19.549 +05:30 [INF] HTTP GET /api/v1/Users/getall responded 200 in 48.1675 ms
2025-06-08 14:55:19.549 +05:30 [INF] HTTP GET /api/v1/Users/getall responded 200 in 48ms - User: sandhya Anand
2025-06-08 14:55:19.549 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5147/api/v1/Users/getall - 200 null application/json; charset=utf-8 49.2952ms
2025-06-08 14:55:53.860 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5147/api/v1/Users/delete/sandhya@123.com?performedByEmail=sandhya123%40gmail.com - null null
2025-06-08 14:55:53.861 +05:30 [INF] CORS policy execution successful.
2025-06-08 14:55:53.862 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.v1.UsersController.DeleteUser (bloggingplatform)'
2025-06-08 14:55:53.866 +05:30 [INF] Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(System.String, System.String) on controller BlogPlatform.Controllers.v1.UsersController (bloggingplatform).
2025-06-08 14:55:53.877 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 14:55:53.877 +05:30 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-06-08 14:55:53.878 +05:30 [INF] Executed action BlogPlatform.Controllers.v1.UsersController.DeleteUser (bloggingplatform) in 11.7045ms
2025-06-08 14:55:53.878 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.v1.UsersController.DeleteUser (bloggingplatform)'
2025-06-08 14:55:53.878 +05:30 [INF] HTTP DELETE /api/v1/Users/delete/sandhya@123.com responded 404 in 16.5927 ms
2025-06-08 14:55:53.878 +05:30 [INF] HTTP DELETE /api/v1/Users/delete/sandhya@123.com responded 404 in 16ms - User: sandhya Anand
2025-06-08 14:55:53.879 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5147/api/v1/Users/delete/sandhya@123.com?performedByEmail=sandhya123%40gmail.com - 404 null text/plain; charset=utf-8 19.0883ms
2025-06-08 14:56:07.515 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5147/api/v1/Users/delete/sandhya123@gmail.com?performedByEmail=sandhya1234%40gmail.com - null null
2025-06-08 14:56:07.516 +05:30 [INF] CORS policy execution successful.
2025-06-08 14:56:07.516 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.v1.UsersController.DeleteUser (bloggingplatform)'
2025-06-08 14:56:07.516 +05:30 [INF] Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(System.String, System.String) on controller BlogPlatform.Controllers.v1.UsersController (bloggingplatform).
2025-06-08 14:56:07.519 +05:30 [INF] Executing ForbidResult with authentication schemes (["Only admins or the comment author can perform this action."]).
2025-06-08 14:56:07.520 +05:30 [INF] Executed action BlogPlatform.Controllers.v1.UsersController.DeleteUser (bloggingplatform) in 3.2809ms
2025-06-08 14:56:07.520 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.v1.UsersController.DeleteUser (bloggingplatform)'
2025-06-08 14:56:07.521 +05:30 [ERR] HTTP DELETE /api/v1/Users/delete/sandhya123@gmail.com responded 500 in 4.6843 ms
System.InvalidOperationException: No authentication handler is registered for the scheme 'Only admins or the comment author can perform this action.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Only admins or the comment author can perform this action.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-06-08 14:56:07.523 +05:30 [ERR] Unhandled exception for DELETE /api/v1/Users/delete/sandhya123@gmail.com - User: sandhya Anand
System.InvalidOperationException: No authentication handler is registered for the scheme 'Only admins or the comment author can perform this action.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Only admins or the comment author can perform this action.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Program.<>c.<<<Main>$>b__0_8>d.MoveNext() in /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform/Program.cs:line 187
2025-06-08 14:56:07.524 +05:30 [ERR] Unhandled exception occurred.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Only admins or the comment author can perform this action.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Only admins or the comment author can perform this action.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Program.<>c.<<<Main>$>b__0_8>d.MoveNext() in /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform/Program.cs:line 187
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BlogPlatform.Middleware.GlobalExceptionMiddleware.Invoke(HttpContext context) in /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform/middleware/globalexceptionmiddleware.cs:line 61
2025-06-08 14:56:07.529 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5147/api/v1/Users/delete/sandhya123@gmail.com?performedByEmail=sandhya1234%40gmail.com - 500 null application/json; charset=utf-8 13.3936ms
2025-06-08 14:58:22.736 +05:30 [INF] Application is shutting down...
2025-06-08 14:58:31.722 +05:30 [INF] User profile is available. Using '/Users/sandhyaanand/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-08 14:58:31.846 +05:30 [INF] Now listening on: http://localhost:5147
2025-06-08 14:58:31.847 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 14:58:31.848 +05:30 [INF] Hosting environment: Development
2025-06-08 14:58:31.848 +05:30 [INF] Content root path: /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform
2025-06-08 14:58:36.536 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5147/api/v1/Users/delete/sandhya123@gmail.com?performedByEmail=sandhya1234%40gmail.com - null null
2025-06-08 14:58:36.580 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-08 14:58:36.581 +05:30 [INF] CORS policy execution successful.
2025-06-08 14:58:36.652 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.v1.UsersController.DeleteUser (bloggingplatform)'
2025-06-08 14:58:36.668 +05:30 [INF] Route matched with {action = "DeleteUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(System.String, System.String) on controller BlogPlatform.Controllers.v1.UsersController (bloggingplatform).
2025-06-08 14:58:36.884 +05:30 [INF] Executing ForbidResult with authentication schemes ([]).
2025-06-08 14:58:36.886 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-08 14:58:36.889 +05:30 [INF] Executed action BlogPlatform.Controllers.v1.UsersController.DeleteUser (bloggingplatform) in 217.3648ms
2025-06-08 14:58:36.902 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.v1.UsersController.DeleteUser (bloggingplatform)'
2025-06-08 14:58:36.904 +05:30 [INF] HTTP DELETE /api/v1/Users/delete/sandhya123@gmail.com responded 403 in 319.2349 ms
2025-06-08 14:58:36.906 +05:30 [INF] HTTP DELETE /api/v1/Users/delete/sandhya123@gmail.com responded 403 in 323ms - User: sandhya Anand
2025-06-08 14:58:36.938 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5147/api/v1/Users/delete/sandhya123@gmail.com?performedByEmail=sandhya1234%40gmail.com - 403 null application/json; charset=utf-8 404.0836ms
2025-06-08 23:21:12.975 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-08 23:21:13.256 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-08 23:21:13.263 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-08 23:21:13.265 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-08 23:21:13.266 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-08 23:21:13.275 +05:30 [INF] Applying migration '20250608175102_recreshtoken'.
2025-06-08 23:21:13.314 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "RefreshTokens" (
    "Id" uuid NOT NULL,
    "Token" text NOT NULL,
    "UserEmail" text NOT NULL,
    "Expires" timestamp with time zone NOT NULL,
    "IsRevoked" boolean NOT NULL,
    CONSTRAINT "PK_RefreshTokens" PRIMARY KEY ("Id")
);
2025-06-08 23:21:13.316 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_RefreshTokens_Token" ON "RefreshTokens" ("Token");
2025-06-08 23:21:13.318 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250608175102_recreshtoken', '9.0.5');
2025-06-08 23:21:20.912 +05:30 [INF] User profile is available. Using '/Users/sandhyaanand/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-08 23:21:21.115 +05:30 [INF] Now listening on: http://localhost:5147
2025-06-08 23:21:21.117 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 23:21:21.117 +05:30 [INF] Hosting environment: Development
2025-06-08 23:21:21.117 +05:30 [INF] Content root path: /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform
2025-06-08 23:21:26.822 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5147/swagger/v1/swagger.json - null null
2025-06-08 23:21:27.036 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5147/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 214.3639ms
2025-06-08 23:21:50.161 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5147/api/v1/login - application/json 60
2025-06-08 23:21:50.174 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-08 23:21:50.176 +05:30 [INF] CORS policy execution successful.
2025-06-08 23:21:50.269 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 23:21:50.286 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BlogPlatform.Models.DTOs.UserLoginResponse]] UserLogin(BlogPlatform.Models.DTOs.UserLoginRequest) on controller BlogPlatform.Controllers.AuthenticationController (bloggingplatform).
2025-06-08 23:21:51.457 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 23:21:51.861 +05:30 [ERR] Invalid credentials
2025-06-08 23:21:51.867 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-06-08 23:21:51.883 +05:30 [INF] Executed action BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform) in 1592.8706ms
2025-06-08 23:21:51.883 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 23:21:51.887 +05:30 [INF] HTTP POST /api/v1/login responded 401 in 1705.7649 ms
2025-06-08 23:21:51.890 +05:30 [INF] HTTP POST /api/v1/login responded 401 in 1709ms - User: Anonymous
2025-06-08 23:21:51.900 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5147/api/v1/login - 401 null application/json; charset=utf-8 1738.7553ms
2025-06-08 23:23:51.253 +05:30 [INF] Application is shutting down...
2025-06-08 23:23:56.157 +05:30 [INF] User profile is available. Using '/Users/sandhyaanand/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-08 23:23:56.331 +05:30 [INF] Now listening on: http://localhost:5147
2025-06-08 23:23:56.334 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 23:23:56.334 +05:30 [INF] Hosting environment: Development
2025-06-08 23:23:56.334 +05:30 [INF] Content root path: /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform
2025-06-08 23:24:00.743 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5147/api/v1/login - application/json 60
2025-06-08 23:24:00.790 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-08 23:24:00.791 +05:30 [INF] CORS policy execution successful.
2025-06-08 23:24:00.856 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 23:24:00.872 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BlogPlatform.Models.DTOs.UserLoginResponse]] UserLogin(BlogPlatform.Models.DTOs.UserLoginRequest) on controller BlogPlatform.Controllers.AuthenticationController (bloggingplatform).
2025-06-08 23:24:01.956 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 23:24:02.352 +05:30 [INF] Login attempt: sandhya123@gmail.com
2025-06-08 23:24:02.353 +05:30 [INF] User found: True
2025-06-08 23:24:02.353 +05:30 [INF] Password valid: False
2025-06-08 23:24:02.353 +05:30 [ERR] Invalid credentials
2025-06-08 23:24:02.359 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-06-08 23:24:02.381 +05:30 [INF] Executed action BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform) in 1504.694ms
2025-06-08 23:24:02.382 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 23:24:02.385 +05:30 [INF] HTTP POST /api/v1/login responded 401 in 1590.2796 ms
2025-06-08 23:24:02.388 +05:30 [INF] HTTP POST /api/v1/login responded 401 in 1594ms - User: Anonymous
2025-06-08 23:24:02.398 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5147/api/v1/login - 401 null application/json; charset=utf-8 1656.8453ms
2025-06-08 23:26:55.002 +05:30 [INF] Application is shutting down...
2025-06-08 23:28:34.078 +05:30 [INF] User profile is available. Using '/Users/sandhyaanand/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-08 23:28:34.220 +05:30 [INF] Now listening on: http://localhost:5147
2025-06-08 23:28:34.221 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-08 23:28:34.221 +05:30 [INF] Hosting environment: Development
2025-06-08 23:28:34.221 +05:30 [INF] Content root path: /Users/sandhyaanand/Documents/GitHub/Presidio_internship/june-6/bloggingplatform
2025-06-08 23:28:36.705 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5147/api/v1/login - application/json 60
2025-06-08 23:28:36.750 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-08 23:28:36.751 +05:30 [INF] CORS policy execution successful.
2025-06-08 23:28:36.816 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 23:28:36.833 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BlogPlatform.Models.DTOs.UserLoginResponse]] UserLogin(BlogPlatform.Models.DTOs.UserLoginRequest) on controller BlogPlatform.Controllers.AuthenticationController (bloggingplatform).
2025-06-08 23:28:37.941 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 23:28:38.332 +05:30 [INF] Login attempt: sandhya123@gmail.com
2025-06-08 23:28:38.332 +05:30 [INF] User found: True
2025-06-08 23:28:38.332 +05:30 [INF] Password valid: False
2025-06-08 23:28:38.332 +05:30 [ERR] Invalid credentials
2025-06-08 23:28:38.339 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-06-08 23:28:38.358 +05:30 [INF] Executed action BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform) in 1519.8514ms
2025-06-08 23:28:38.358 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 23:28:38.362 +05:30 [INF] HTTP POST /api/v1/login responded 401 in 1604.7818 ms
2025-06-08 23:28:38.364 +05:30 [INF] HTTP POST /api/v1/login responded 401 in 1608ms - User: Anonymous
2025-06-08 23:28:38.376 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5147/api/v1/login - 401 null application/json; charset=utf-8 1670.3803ms
2025-06-08 23:29:20.235 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5147/api/v1/Users/getall - null null
2025-06-08 23:29:20.240 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.v1.UsersController.GetAll (bloggingplatform)'
2025-06-08 23:29:20.247 +05:30 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller BlogPlatform.Controllers.v1.UsersController (bloggingplatform).
2025-06-08 23:29:20.400 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-08 23:29:20.403 +05:30 [INF] Executing OkObjectResult, writing value of type 'BlogPlatform.Models.User[]'.
2025-06-08 23:29:20.428 +05:30 [INF] Executed action BlogPlatform.Controllers.v1.UsersController.GetAll (bloggingplatform) in 180.1291ms
2025-06-08 23:29:20.428 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.v1.UsersController.GetAll (bloggingplatform)'
2025-06-08 23:29:20.429 +05:30 [INF] HTTP GET /api/v1/Users/getall responded 200 in 190.7752 ms
2025-06-08 23:29:20.429 +05:30 [INF] HTTP GET /api/v1/Users/getall responded 200 in 191ms - User: Anonymous
2025-06-08 23:29:20.430 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5147/api/v1/Users/getall - 200 null application/json; charset=utf-8 195.5277ms
2025-06-08 23:29:39.019 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5147/api/v1/login - application/json 60
2025-06-08 23:29:39.021 +05:30 [INF] CORS policy execution successful.
2025-06-08 23:29:39.024 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 23:29:39.024 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BlogPlatform.Models.DTOs.UserLoginResponse]] UserLogin(BlogPlatform.Models.DTOs.UserLoginRequest) on controller BlogPlatform.Controllers.AuthenticationController (bloggingplatform).
2025-06-08 23:29:39.094 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 23:29:39.364 +05:30 [INF] Login attempt: sandhya123@gmail.com
2025-06-08 23:29:39.364 +05:30 [INF] User found: True
2025-06-08 23:29:39.364 +05:30 [INF] Password valid: False
2025-06-08 23:29:39.364 +05:30 [ERR] Invalid credentials
2025-06-08 23:29:39.365 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-06-08 23:29:39.365 +05:30 [INF] Executed action BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform) in 340.5504ms
2025-06-08 23:29:39.365 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 23:29:39.365 +05:30 [INF] HTTP POST /api/v1/login responded 401 in 343.5913 ms
2025-06-08 23:29:39.365 +05:30 [INF] HTTP POST /api/v1/login responded 401 in 343ms - User: Anonymous
2025-06-08 23:29:39.366 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5147/api/v1/login - 401 null application/json; charset=utf-8 346.6735ms
2025-06-08 23:30:39.416 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5147/api/v1/Users/delete/sandhya123@gmail.com?performedByEmail=sandhya123%40gmail.com - null null
2025-06-08 23:30:39.418 +05:30 [INF] CORS policy execution successful.
2025-06-08 23:30:39.422 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-08 23:30:39.426 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-08 23:30:39.426 +05:30 [INF] HTTP DELETE /api/v1/Users/delete/sandhya123@gmail.com responded 401 in 8.7355 ms
2025-06-08 23:30:39.427 +05:30 [INF] HTTP DELETE /api/v1/Users/delete/sandhya123@gmail.com responded 401 in 8ms - User: Anonymous
2025-06-08 23:30:39.427 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5147/api/v1/Users/delete/sandhya123@gmail.com?performedByEmail=sandhya123%40gmail.com - 401 null application/json; charset=utf-8 10.5725ms
2025-06-08 23:31:32.043 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5147/api/v1/Users - application/json 127
2025-06-08 23:31:32.044 +05:30 [INF] CORS policy execution successful.
2025-06-08 23:31:32.044 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.v1.UsersController.CreateUser (bloggingplatform)'
2025-06-08 23:31:32.048 +05:30 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(BlogPlatform.Models.DTOs.UserDto) on controller BlogPlatform.Controllers.v1.UsersController (bloggingplatform).
2025-06-08 23:31:32.288 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "CreatedAt", "IsDeleted", "Name", "PasswordHash", "Role", "Status", "SuspendedUntil", "SuspensionReason")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "IsSuspended";
2025-06-08 23:31:32.349 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserAuditLogs" ("Id", "Action", "Changes", "PerformedAt", "PerformedBy", "TargetEmail")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-08 23:31:32.351 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'BlogPlatform.Models.User'.
2025-06-08 23:31:32.370 +05:30 [INF] Executed action BlogPlatform.Controllers.v1.UsersController.CreateUser (bloggingplatform) in 321.6409ms
2025-06-08 23:31:32.370 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.v1.UsersController.CreateUser (bloggingplatform)'
2025-06-08 23:31:32.370 +05:30 [INF] HTTP POST /api/v1/Users responded 201 in 325.7495 ms
2025-06-08 23:31:32.370 +05:30 [INF] HTTP POST /api/v1/Users responded 201 in 325ms - User: Anonymous
2025-06-08 23:31:32.370 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5147/api/v1/Users - 201 null application/json; charset=utf-8 326.7828ms
2025-06-08 23:31:49.101 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5147/api/v1/login - application/json 61
2025-06-08 23:31:49.101 +05:30 [INF] CORS policy execution successful.
2025-06-08 23:31:49.102 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 23:31:49.102 +05:30 [INF] Route matched with {action = "UserLogin", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BlogPlatform.Models.DTOs.UserLoginResponse]] UserLogin(BlogPlatform.Models.DTOs.UserLoginRequest) on controller BlogPlatform.Controllers.AuthenticationController (bloggingplatform).
2025-06-08 23:31:49.109 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 23:31:49.257 +05:30 [INF] Login attempt: sandhya1234@gmail.com
2025-06-08 23:31:49.257 +05:30 [INF] User found: True
2025-06-08 23:31:49.257 +05:30 [INF] Password valid: True
2025-06-08 23:31:49.294 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("Id", "Expires", "IsRevoked", "Token", "UserEmail")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-06-08 23:31:49.295 +05:30 [INF] Executing OkObjectResult, writing value of type 'BlogPlatform.Models.DTOs.UserLoginResponse'.
2025-06-08 23:31:49.296 +05:30 [INF] Executed action BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform) in 194.2574ms
2025-06-08 23:31:49.297 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.AuthenticationController.UserLogin (bloggingplatform)'
2025-06-08 23:31:49.297 +05:30 [INF] HTTP POST /api/v1/login responded 200 in 195.1039 ms
2025-06-08 23:31:49.297 +05:30 [INF] HTTP POST /api/v1/login responded 200 in 195ms - User: Anonymous
2025-06-08 23:31:49.297 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5147/api/v1/login - 200 null application/json; charset=utf-8 195.9249ms
2025-06-08 23:32:20.892 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5147/api/v1/login/refresh - application/json 112
2025-06-08 23:32:20.893 +05:30 [INF] CORS policy execution successful.
2025-06-08 23:32:20.893 +05:30 [INF] Executing endpoint 'BlogPlatform.Controllers.AuthenticationController.RefreshToken (bloggingplatform)'
2025-06-08 23:32:20.897 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BlogPlatform.Models.DTOs.UserLoginResponse]] RefreshToken(RefreshTokenRequest) on controller BlogPlatform.Controllers.AuthenticationController (bloggingplatform).
2025-06-08 23:32:20.916 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Expires", r."IsRevoked", r."Token", r."UserEmail"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-06-08 23:32:20.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Email", u."CreatedAt", u."IsDeleted", u."IsSuspended", u."Name", u."PasswordHash", u."Role", u."Status", u."SuspendedUntil", u."SuspensionReason"
FROM "Users" AS u
WHERE u."Email" = @__key_0
LIMIT 2
2025-06-08 23:32:20.924 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Expires", r."IsRevoked", r."Token", r."UserEmail"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-06-08 23:32:20.934 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "IsRevoked" = @p0
WHERE "Id" = @p1;
2025-06-08 23:32:20.937 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("Id", "Expires", "IsRevoked", "Token", "UserEmail")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-06-08 23:32:20.937 +05:30 [INF] Executing OkObjectResult, writing value of type 'BlogPlatform.Models.DTOs.UserLoginResponse'.
2025-06-08 23:32:20.937 +05:30 [INF] Executed action BlogPlatform.Controllers.AuthenticationController.RefreshToken (bloggingplatform) in 40.4925ms
2025-06-08 23:32:20.937 +05:30 [INF] Executed endpoint 'BlogPlatform.Controllers.AuthenticationController.RefreshToken (bloggingplatform)'
2025-06-08 23:32:20.938 +05:30 [INF] HTTP POST /api/v1/login/refresh responded 200 in 44.5012 ms
2025-06-08 23:32:20.938 +05:30 [INF] HTTP POST /api/v1/login/refresh responded 200 in 44ms - User: Anonymous
2025-06-08 23:32:20.938 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5147/api/v1/login/refresh - 200 null application/json; charset=utf-8 45.5473ms
